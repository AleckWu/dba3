Question 1:

a)
A->ACF->ACFH->ACDEFGH->ABCDEFGH => pass
BCG->BCDG => VIOLATE BCNF
CF->ACFH->ACDEFGH->ACBDEFGH => pass
D->BD => VIOLATE BCNF
H->DEGH->BDEGH => VIOLATE BCNF

therefore, BCG->D, D->B, and H->DEG violate BCNF

b)
decompose R using FD D->B:
    R1 = D+ = BD
    R2 = R - (R1-D)
       = ABCDEFGH - B
       = ACDEFGH

project FD's onto R1 = BD:
    B+ = B => nothing
    D+ = BD => D->B; D a superkey of R1
    BD+ trivial
    R1 satisfies BCNF with FD: D->B FINAL

project FD's onto R2 = ACDEFGH:
    A is a superkey
    C+ = C => nothing
    D+ = B => nothing
    E+ = E => nothing
    F+ = F => nothing
    G+ = G => nothing
    H+ = BDEGH => violates BCNF; H->DEG
    must decompose R2 further

decompose R2 using H->DEG:
    R3 = H+ = DEGH
    R4 = R2 - (R3 - H)
       = ACDEFGH - (DEGH - H)
       = ACFH

project FD's onto R3 = DEGH:
    D+ = BD => nothing
    E+ = E => nothing
    G+ = G => nothing
    H+ = DEGH => H->DEG; H a superkey of R3
    DE+ trivial
    EG+ trivial
    DG+ trivial
    DEG+ trivial
    no need to further check supersets of H
    R3 satisfies BCNF with FD: H->DEG FINAL

project FD's onto R4 = ACFH:
    A->CFH; A is a superkey R4
    C+ = C => nothing
    F+ = F => nothing
    H+ = DEGH => nothing
    no need to further check supersets of A
    CF+ = ACFH => CF->AH; CF a superkey of R4
    FH+ trivial
    CH+ trivial
    no need to further check supersets of CF
    R4 satisfies BCNF with FD: A->CFH, CF->AH FINAL

Final lossless decomposition of R follows:
    R1=BD;      FD: D->B
    R3=DEGH;    FD: H->DEG
    R4=ACFH;    FD: A->CFH, CF->AH




Question 2:

a)
Look at all LHSs (AB, B, BCD, BCDE, BCE, DF)

B->CEF => BCEF
(BCE)F->(BCE)DF => BCDEF
(BCDE)F -> (BCDE)AF => ABCDEF

therefore, B is a key for R
therefore, anything with B is also a key for R

the only LHS without B is DF:
DF->C => CDF
CDF->CDF

therefore DF is NOT a key for R

Therefore, all keys of R are:
B
AB, BC, BD, BE, BF
ABC, ABD, ABE, ABF, BCD, BCE, BCF, BDE, BDF, BEF
ABCD, ABCE, ABCF, BCDE, BCDF, BDEF
ABCDE, ABCDF, BCDEF
ABCDEF


b)
Since B is a key for R, we can construct the following set of FDs:
{B->A, B->C, B->D, B->E, B->F}
all RHSs are singletons
if we remove any one of these FD, we lose that specific entailment which cannot be constructed with other FDs in the set
all LHSs are signletons as well, therefore no need to test whether removing attributes from LHS will result in minimal basis

therefore, {B->A, B->C, B->D, B->E, B->F} is a minimal basis for S
